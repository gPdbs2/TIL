# 1. 컨테이너와 도커의 이해

생성일: 2022년 9월 25일 오후 9:06

## 1. 컨테이너를 배우는 이유

---

- 소프트웨어 운영 플랫폼이 바뀌어 가고 있다
    - 과거 ⇒ **대용량의 Bare 메타 + 여러 개의 어플리케이션**을 사용하는 구조
        - 시간이 흐르면서 HW 가격은 싸지고. 성능은 좋아지고
        - 운영해야 되는 시스템 및 플랫폼들은 점점 대용량으로 많이 요구하게 됨
    - 기존 Bare 메타에 **Hypervisor** 라는 SW 기술 추가
        - **가상 컴퓨터 ⇒ VM (Virtual Merchine)**
        - **VM 위에 어플리케이션을 올려서 사용하는 방식**으로 ⇒ **가상화 플랫폼**
    - 어플리케이션들을 운영할 때 어플리케이션 서비스가 요구하는 클라우드 요구가 얼마나 많느냐에 따라서 자유롭게 확장, 축소할 필요가 생김
        - 서비스 중단 없이 어플리케이션을 운영해야 되는 환경
        - 기존에 있던 가상의 환경만으로는 약간의 어려움이 있더라
            - 똑같은 Bare 메타 시스템에 OS를 올리고 **Container Engine** 을 올림 ⇒ **컨테이너 플랫폼**
                - **Docker 는 이러한 컨테이너 엔진 중에 하나**
    - **컨테이너로 운영되는 플랫폼**
        - 아주 적은 용량으로 운영 가능
            - 실제 어플리케이션 + 최소화된 환경 만 들어감
        - 하나의 프로그램화 ⇒ **isolate 된 공간** 안에서 **적은 용량의 프로그램이 실행**됨
            - **확장성**이 굉장히 좋고 **배포가 쉬움**

- **SW에서의 컨테이너**
    - 하나의 어플리케이션을 똑같이 운영하는데 프론트 단/ 백 단에서 필요로 하는 환경
        - 라이브러리, nodejs, java 등과 같은 소프트웨어 플랫폼 등을 **미리 맞춰놓고 하나의 어플리케이션을 실행시켜주는 독립된 공간**

## 2. 왜 굳이 리눅스에서 돌리는가?

---

- 리눅스 커널 기능을 써야 하니까
- **리눅스 kernel 기능**
    - **chroot : 독립된 공간 형성**
    - **namespace : 독립된 공간 안에 6가지의 isolate 기능 지원**
    - **cgroup : 필요한 만큼의 HW 지원**

![Untitled](1%20%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%AA%20%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%8B%E1%85%B5%E1%84%92%E1%85%A2%2059964ec9c08341ed9bab6ba32c53d55e/Untitled.png)

- **윈도우나 맥OS**는 커널 기능이 없는데 그럼 어떻게 돌리냐?
    - **Hypervisor 활성화 필요**
    - 그 위에다가 컨테이너 올리는 식

- 리눅스는 리눅스 자체로 커널 기능을 가지고 있기 때문에 바로 컨테이너 올려서 동작 가능
    - 실무에서는 윈도우나 맥OS를 쓰기 보다는 라이센스 비용이 들지 않는 리눅스 쓰임

## 3. 일반 프로그램과 컨테이너의 차이점

---

- 하는 일은 같다, 다만 구조가 다르다
    - 컨테이너 안에 집어 넣느냐, 그냥 돌리느냐의 차이
    - 컨테이너 기반이냐, 아니면 어플리케이션 운영 환경 기반이냐

## 4. 사용하는 이유

---

- **개발자가 만든 개발환경 그대로 어디서든 돌아간다**
    
    ![Untitled](1%20%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%AA%20%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%8B%E1%85%B5%E1%84%92%E1%85%A2%2059964ec9c08341ed9bab6ba32c53d55e/Untitled%201.png)
    
    - 개발자가 컨테이너 구조로 app.js 개발 후 고객사에 제공
    - 컨테이너 안에 운영환경을 넣었음
        - 개발환경과 운영환경의 불일치에 따른 어려움 해결
    - 컨테이너는 **만들어진 시점과 동일한 형태로 지원 가능**
    - **환경에 영향받지 않을 수 있음**

- **확장/축소가 쉽고 MSA, DevOps에 적합하다**
    - scale in, scale out
    
    ![Untitled](1%20%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%AA%20%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%8B%E1%85%B4%20%E1%84%8B%E1%85%B5%E1%84%92%E1%85%A2%2059964ec9c08341ed9bab6ba32c53d55e/Untitled%202.png)